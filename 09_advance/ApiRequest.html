<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API request</title>
</head>
<body style="background-color: #212121; color: white;">
    0	UNSENT	Client has been created. open() not called yet.
1	OPENED	open() has been called.
2	HEADERS_RECEIVED	send() has been called, and headers and status are available.
3	LOADING	Downloading; responseText holds partial data.
4	DONE	The operation is complete.
</body>
<script>
    const requestUrl = 'https://api.github.com/users/harzrawat'
    const xhr = new XMLHttpRequest();
    console.log("Ready state before open:",xhr.readyState);
    xhr.open('GET',requestUrl)
    console.log("Ready state after open:",xhr.readyState);
    xhr.onreadystatechange = function(){    // here onreadystatechange is for tracking continuous states
        console.log(xhr.readyState);
        if (xhr.readyState === 4) {
            // by default most of the times response from url is string
            const data = JSON.parse(this.responseText)
            // console.log(typeof data);    // object
            console.log(data);      // object of user info
            console.log(Object.keys(data));
        }

        // Function Definition vs. Execution:
        // When you assign a function to xhr.onreadystatechange, you're defining what should happen when the ready state changes. You're not calling the function immediately, but rather telling the XMLHttpRequest object "here's what to do when the state changes".
    }
    xhr.send();

</script>
</html>